<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>SRMVEC - CSE Department | Placements</title>
    <meta name="description"
        content="Placement records, company-wise offers and placement coordinators of the CSE Department." />
    <link rel="icon" href="image.png" />
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Playfair+Display:wght@400;700&display=swap"
        rel="stylesheet">

    <!-- Set theme BEFORE CSS loads (system preference or saved choice) -->
    <script>
        (function () {
            try {
                const saved = localStorage.getItem('theme');
                const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
                const theme = saved || (prefersDark ? 'dark' : 'light');
                document.documentElement.setAttribute('data-theme', theme);
            } catch (e) {
                document.documentElement.setAttribute('data-theme', 'light');
            }
        })();
    </script>

    <link href="styles.css" rel="stylesheet">

    <style>
        /* ---- CORE PAGE LAYOUT ---- */
        .place-container {
            max-width: 1200px;
            margin: 120px auto 40px;
            padding: 0 20px 40px;
        }

        .place-header {
            margin-bottom: 18px;
        }

        .place-header h2 {
            margin: 0 0 6px;
            font-size: 24px;
            color: var(--primary);
        }

        /* ---- TABS ---- */
        .place-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 18px;
            border-bottom: 1px solid var(--border-subtle);
            padding-bottom: 6px;
        }

        .tab-btn {
            border: none;
            background: transparent;
            padding: 8px 16px;
            border-radius: 999px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            color: var(--muted);
            position: relative;
        }

        .tab-btn.active {
            color: var(--primary);
            background: rgba(125, 42, 232, 0.08);
        }

        .tab-btn.active::after {
            content: "";
            position: absolute;
            left: 16px;
            right: 16px;
            bottom: -6px;
            height: 2px;
            border-radius: 999px;
            background: var(--primary);
        }

        .tab-panel {
            display: none;
        }

        .tab-panel.active {
            display: block;
        }

        /* ---- PLACED STUDENTS (EXISTING GRID) ---- */

        .filter-bar {
            display: flex;
            gap: 16px;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }

        .filter-bar select {
            padding: 10px 14px;
            border-radius: 12px;
            border: 1px solid var(--border-subtle);
            background: var(--card-bg);
            color: var(--text);
            font-size: 14px;
            cursor: pointer;
            transition: border-color 0.2s ease;
        }

        .filter-bar select:hover {
            border-color: rgba(125, 42, 232, 0.4);
        }

        .placement-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
        }

        .place-card {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 18px;
            border: 1px solid var(--border-subtle);
            box-shadow: var(--shadow-soft);
            transition: transform 0.25s ease, box-shadow 0.25s ease, border-color 0.25s ease;
        }

        .place-card:hover {
            transform: translateY(-4px);
            border-color: rgba(125, 42, 232, 0.4);
            box-shadow: 0 16px 40px rgba(15, 23, 42, 0.15);
        }

        .place-card h3 {
            margin: 0 0 8px;
            color: var(--primary);
            font-size: 18px;
        }

        .place-card p {
            margin: 4px 0;
            color: var(--text);
            font-size: 14px;
        }

        .place-card a {
            color: var(--primary);
            text-decoration: none;
        }

        .place-card a:hover {
            text-decoration: underline;
        }

        .pagination {
            margin-top: 26px;
            display: flex;
            justify-content: center;
            gap: 14px;
        }

        .pagination button {
            padding: 10px 18px;
            border-radius: 999px;
            border: none;
            background: var(--primary);
            color: #fff;
            cursor: pointer;
            font-weight: 600;
            font-size: 14px;
            box-shadow: 0 10px 20px rgba(125, 42, 232, 0.35);
            transition: 0.2s ease;
        }

        .pagination button:hover:not(:disabled) {
            background: #6922dd;
            transform: translateY(-1px);
        }

        .pagination button:disabled {
            opacity: 0.4;
            cursor: not-allowed;
        }

        /* ---- PLACEMENT DETAILS TAB ---- */

        /* counters */
        .placement-stats {
            display: grid;
            grid-template-columns: repeat(3, minmax(0, 1fr));
            gap: 18px;
            margin: 10px 0 26px;
        }

        .stat-card {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 18px 18px 16px;
            border: 1px solid var(--border-subtle);
            box-shadow: var(--shadow-soft);
            text-align: center;
        }

        .stat-card h3 {
            margin: 0;
            font-size: 28px;
            color: var(--primary);
        }

        .stat-card p {
            margin: 4px 0 0;
            font-size: 14px;
            color: var(--muted);
        }

        /* company table */
        .company-table-section {
            margin-top: 10px;
        }

        .company-table-section h3 {
            margin: 0 0 10px;
            font-size: 18px;
            color: var(--primary);
        }

        .company-table-wrap {
            border-radius: 14px;
            border: 1px solid var(--border-subtle);
            overflow: hidden;
            box-shadow: var(--shadow-soft);
            background: var(--card-bg);
        }

        table.company-table {
            width: 100%;
            border-collapse: collapse;
        }

        table.company-table th,
        table.company-table td {
            padding: 10px 12px;
            font-size: 14px;
            text-align: left;
            border-bottom: 1px solid rgba(148, 163, 184, 0.25);
        }

        table.company-table th {
            background: var(--primary);
            color: #ffffff;
            position: sticky;
            top: 0;
            z-index: 2;
        }

        /* coordinators */
        .coordinator-section {
            margin-top: 26px;
        }

        .coordinator-section h3 {
            margin: 0 0 12px;
            font-size: 18px;
            color: var(--primary);
        }

        .coordinator-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
            gap: 16px;
        }

        .coord-card {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 16px 18px;
            border: 1px solid var(--border-subtle);
            box-shadow: var(--shadow-soft);
        }

        .coord-card h4 {
            margin: 0 0 6px;
            font-size: 16px;
        }

        .coord-card p {
            margin: 2px 0;
            font-size: 14px;
        }

        .footer {
            text-align: center;
            margin-top: 22px;
            color: var(--muted);
            font-size: 13px;
        }

        @media (max-width: 900px) {
            .placement-stats {
                grid-template-columns: repeat(2, minmax(0, 1fr));
            }
        }

        @media (max-width: 600px) {
            .place-container {
                margin-top: 100px;
            }

            .placement-stats {
                grid-template-columns: minmax(0, 1fr);
            }
        }
    </style>
</head>

<body>

    <!-- NAVBAR -->
    <nav class="nav">
        <div class="nav-inner">
            <a href="index.html" class="brand">
                <img src="image.png" alt="CSE logo">
                <div>
                    <h1>CSE Department</h1>
                    <div class="brand-sub">SRM Valliammai Engineering College</div>
                </div>
            </a>

            <!-- Desktop menu -->
            <div class="menu">
                <a href="index.html">Home</a>
                <a href="index.html#about">About us</a>
                <a href="index.html#faculty">Faculty</a>
                <a href="index.html#coderizz">Coderizz</a>
                <a href="index.html#achievements">Events</a>
                <a href="index.html#placements">Placements</a>
                <a href="index.html#alumni">Alumni</a>
                <a href="index.html#blog">Blog</a>
                <a href="index.html#contact">Contact</a>
                <a href="cgpa.html">GPA-Calculator</a>
            </div>

            <!-- Hamburger -->
            <button class="hamb" id="hamb" aria-label="Toggle navigation" aria-expanded="false">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>

        <!-- Mobile full-screen menu -->
        <div class="mobile-menu" id="mobileMenu">
            <a href="index.html">Home</a>
            <a href="index.html#about">About us</a>
            <a href="index.html#faculty">Faculty</a>
            <a href="index.html#coderizz">Coderizz</a>
            <a href="index.html#labs">Labs</a>
            <a href="index.html#achievements">Events</a>
            <a href="index.html#placements">Placements</a>
            <a href="index.html#alumni">Alumni</a>
            <a href="index.html#blog">Blog</a>
            <a href="index.html#contact">Contact</a>
            <a href="cgpa.html">GPA-Calculator</a>
        </div>
    </nav>

    <main class="place-container">
        <div class="place-header">
            <h2>Placements</h2>
            <p class="muted">Placed students, visiting companies and department placement coordinators.</p>
        </div>

        <!-- TABS -->
        <div class="place-tabs">
            <button class="tab-btn active" data-tab="students">Placed Students</button>
            <button class="tab-btn" data-tab="details">Placement Details</button>
        </div>

        <!-- TAB 1: PLACED STUDENTS (existing content) -->
        <section id="tab-students" class="tab-panel active">
            <!-- FILTERS -->
            <div class="filter-bar">
                <select id="companyFilter">
                    <option value="">Filter by Company</option>
                </select>

                <select id="batchFilter">
                    <option value="">Filter by Batch</option>
                </select>
            </div>

            <!-- GRID -->
            <div class="placement-grid" id="placementGrid"></div>

            <!-- PAGINATION -->
            <div class="pagination">
                <button id="prevBtn">Previous</button>
                <button id="nextBtn">Next</button>
            </div>
        </section>

        <!-- TAB 2: PLACEMENT DETAILS -->
        <section id="tab-details" class="tab-panel">
            <!-- Section 1: Counters -->
            <section class="placement-stats">
                <div class="stat-card reveal">
                    <h3 id="statCompanies" data-target="23">0</h3>
                    <p>Companies Visited</p>
                </div>
                <div class="stat-card reveal">
                    <h3 id="statStudents" data-target="20">0</h3>
                    <p>Students Placed</p>
                </div>
                <div class="stat-card reveal">
                    <h3 id="statCtc" data-target="5">0</h3>
                    <p>Average CTC (LPA)</p>
                </div>
            </section>

            <!-- Section 2: Company-wise table -->
            <section class="company-table-section">
                <h3>Company-wise Placement Summary</h3>
                <div class="company-table-wrap reveal">
                    <table class="company-table">
                        <thead>
                            <tr>
                                <th>Visited Companies</th>
                                <th>Placed Students</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>Hexaware</td><td>12</td></tr>
                            <tr><td>Prodapt</td><td>3</td></tr>
                            <tr><td>Kaar Technologies</td><td>2</td></tr>
                            <tr><td>Propel</td><td>1</td></tr>
                            <tr><td>EPAM</td><td>1</td></tr>
                            <tr><td>Mu Sigma</td><td>1</td></tr>
                            <tr><td>TCS</td><td>0</td></tr>
                            <tr><td>Cognizant</td><td>0</td></tr>
                            <tr><td>Avasoft</td><td>0</td></tr>
                            <tr><td>Soft Suave</td><td>0</td></tr>
                            <tr><td>Blue Bridge</td><td>0</td></tr>
                            <tr><td>Infosys</td><td>0</td></tr>
                            <tr><td>Prudent</td><td>0</td></tr>
                            <tr><td>SecureKloud</td><td>0</td></tr>
                            <tr><td>IBM</td><td>0</td></tr>
                            <tr><td>Cognida AI</td><td>0</td></tr>
                            <tr><td>HCL Tech</td><td>0</td></tr>
                            <tr><td>Movate</td><td>0</td></tr>
                            <tr><td>Geval 6</td><td>0</td></tr>
                            <tr><td>Levarus</td><td>0</td></tr>
                            <tr><td>American Megatrends</td><td>0</td></tr>
                            <tr><td>JCL</td><td>0</td></tr>
                            <tr><td>Blackstraw</td><td>0</td></tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Section 3: Coordinators -->
            <section class="coordinator-section">
                <h3>Placement Coordinators ‚Äì CSE Department</h3>
                <div class="coordinator-grid">
                    <div class="coord-card reveal">
                        <h4>Mr. N. Leo Bright Tennisson M.Tech., (Ph.D.)</h4>
                        <p class="muted-sm">Placement Coordinator ‚Äì CSE</p>
                        <p class="muted-sm">Phone: 0000000000</p>
                    </div>
                    <div class="coord-card reveal">
                        <h4>Ms. R. Anbuvizhi B.E., M.E.</h4>
                        <p class="muted-sm">Placement Coordinator ‚Äì CSE</p>
                        <p class="muted-sm">Phone: 0000000000</p>
                    </div>
                    <div class="coord-card reveal">
                        <h4>Mr. M. Venkatesh</h4>
                        <p class="muted-sm">Head ‚Äì Placements, SRM Valliammai Engineering College</p>
                        <p class="muted-sm">Phone: 98411 89100</p>
                    </div>
                </div>
            </section>
        </section>

        <!-- Footer (same style as staff.html) -->
        <div class="footer">
            <div>Designed by Karthick S &amp; Shakthi K, Dept. of CSE</div>
            <div>&copy; 2022 - 2026 Dept of CSE - SRM VEC</div>
        </div>
    </main>

    <!-- FLOATING CONTROLS -->
    <div class="floating-controls">
        <button id="themeToggle" class="fab">üåô</button>
        <button id="backToTop" class="fab">‚Üë</button>
    </div>

    <script>
        /* ========== MOBILE MENU ========== */
        const hamb = document.getElementById("hamb");
        const mobileMenu = document.getElementById("mobileMenu");

        hamb.addEventListener("click", () => {
            const open = mobileMenu.classList.toggle("open");
            hamb.classList.toggle("open", open);
            hamb.setAttribute("aria-expanded", open ? "true" : "false");
        });

        mobileMenu.querySelectorAll("a").forEach(a =>
            a.addEventListener("click", () => {
                mobileMenu.classList.remove("open");
                hamb.classList.remove("open");
            })
        );

        /* ========== THEME TOGGLE ========== */
        const themeToggle = document.getElementById("themeToggle");
        const root = document.documentElement;

        function updateThemeIcon() {
            const t = root.getAttribute("data-theme");
            themeToggle.textContent = t === "dark" ? "‚òÄÔ∏è" : "üåô";
        }

        themeToggle.addEventListener("click", () => {
            const cur = root.getAttribute("data-theme");
            const next = cur === "light" ? "dark" : "light";
            root.setAttribute("data-theme", next);
            localStorage.setItem("theme", next);
            updateThemeIcon();
        });

        updateThemeIcon();

        /* ========== BACK TO TOP ========== */
        const backToTop = document.getElementById("backToTop");
        window.addEventListener("scroll", () => {
            if (window.scrollY > 250) backToTop.classList.add("visible");
            else backToTop.classList.remove("visible");
        });

        backToTop.onclick = () => window.scrollTo({ top: 0, behavior: "smooth" });

        /* ========== TABS ========== */
        const tabButtons = document.querySelectorAll(".tab-btn");
        const tabPanels = document.querySelectorAll(".tab-panel");
        let statsAnimated = false;

        tabButtons.forEach(btn => {
            btn.addEventListener("click", () => {
                const target = btn.dataset.tab;

                tabButtons.forEach(b => b.classList.remove("active"));
                btn.classList.add("active");

                tabPanels.forEach(panel => {
                    panel.classList.toggle("active", panel.id === "tab-" + target);
                });

                if (target === "details" && !statsAnimated) {
                    animateStats();
                    statsAnimated = true;
                }

                // re-run reveal for newly shown panel
                revealInit();
            });
        });

        /* ========== LOAD PLACEMENT DATA ========== */

        let placementData = [];
        let filteredData = [];
        let itemsPerPage = 10;
        let currentPage = 1;

        const companyFilter = document.getElementById("companyFilter");
        const batchFilter = document.getElementById("batchFilter");
        const grid = document.getElementById("placementGrid");
        const prevBtn = document.getElementById("prevBtn");
        const nextBtn = document.getElementById("nextBtn");

        fetch("placement.json")
            .then(r => r.json())
            .then(data => {
                placementData = data;
                filteredData = data;

                loadFilters(data);
                renderPage();
            });

        function loadFilters(data) {
            [...new Set(data.map(d => d.company))].forEach(c =>
                companyFilter.innerHTML += `<option value="${c}">${c}</option>`
            );

            [...new Set(data.map(d => d.batch))].forEach(b =>
                batchFilter.innerHTML += `<option value="${b}">${b}</option>`
            );
        }

        function applyFilters() {
            const c = companyFilter.value;
            const b = batchFilter.value;

            filteredData = placementData.filter(p =>
                (c === "" || p.company === c) &&
                (b === "" || p.batch == b)
            );

            currentPage = 1;
            renderPage();
        }

        companyFilter.addEventListener("change", applyFilters);
        batchFilter.addEventListener("change", applyFilters);

        function renderPage() {
            grid.innerHTML = "";

            const start = (currentPage - 1) * itemsPerPage;
            const end = start + itemsPerPage;

            const pageItems = filteredData.slice(start, end);

            if (pageItems.length === 0) {
                grid.innerHTML = "<p>No results found.</p>";
                return;
            }

            pageItems.forEach(p => {
                const card = document.createElement("div");
                card.className = "place-card reveal";
                card.innerHTML = `
                    <h3>${p.name}</h3>
                    <p>üè¢ ${p.company}</p>
                    <p>üí∞ Package: ${p.package} LPA</p>
                    <p>üìû <a href="tel:${p.phone}">${p.phone}</a></p>
                    <p>üéì Batch: ${p.batch}</p>
                `;
                grid.appendChild(card);
            });

            revealInit();

            prevBtn.disabled = currentPage === 1;
            nextBtn.disabled = end >= filteredData.length;
        }

        prevBtn.onclick = () => { currentPage--; renderPage(); };
        nextBtn.onclick = () => { currentPage++; renderPage(); };

        /* ========== COUNTER ANIMATION (Placement Details tab) ========== */

        function animateValue(el, target, duration) {
            const start = 0;
            const startTime = performance.now();

            function update(now) {
                const elapsed = now - startTime;
                const progress = Math.min(elapsed / duration, 1);
                const value = Math.floor(progress * (target - start) + start);
                el.textContent = value;
                if (progress < 1) requestAnimationFrame(update);
            }

            requestAnimationFrame(update);
        }

        function animateStats() {
            const companiesEl = document.getElementById("statCompanies");
            const studentsEl = document.getElementById("statStudents");
            const ctcEl = document.getElementById("statCtc");

            animateValue(companiesEl, parseInt(companiesEl.dataset.target, 10) || 0, 1200);
            animateValue(studentsEl, parseInt(studentsEl.dataset.target, 10) || 0, 1200);
            animateValue(ctcEl, parseInt(ctcEl.dataset.target, 10) || 0, 1200);
        }

        /* ========== REVEAL ANIMATION ========== */
        function revealInit() {
            const obs = new IntersectionObserver((entries) => {
                entries.forEach(e => {
                    if (e.isIntersecting) {
                        e.target.classList.add("revealed");
                        obs.unobserve(e.target);
                    }
                });
            }, { threshold: 0.15 });

            document.querySelectorAll(".reveal").forEach(el => obs.observe(el));
        }

        // init reveals on first load
        revealInit();
    </script>

</body>

</html>
